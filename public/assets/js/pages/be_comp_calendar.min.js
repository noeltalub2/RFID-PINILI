/*!
 * oneui - v5.9.0
 * @author pixelcave - https://pixelcave.com
 * Copyright (c) 2024
 */
!(function () {
	"use strict";
	class e {
		static initCalendar() {
			let e = new Date(),
				t = e.getDate(),
				a = e.getMonth(),
				n = e.getFullYear();

			const calendarEl = document.getElementById("js-calendar");

			const calendar = new FullCalendar.Calendar(calendarEl, {
				themeSystem: "standard",
				firstDay: 0,
				editable: false,
				droppable: false,
				initialView: "dayGridMonth", // Set initial view to month
				headerToolbar: {
					left: "title",
					center: "", // Empty center section
					right: "prev,next today", // Only navigation buttons and today button
				},
                eventTimeFormat: { hour: 'numeric', minute: '2-digit', },
				events: [],
				// isLoading event handler
				loading: function (isLoading) {
					toggleLoadingIndicator(isLoading);
				},
			});

			calendar.render();

			// Expose the calendar instance to global scope for access in other functions
			window.calendar = calendar;
		}

		static init() {
			this.initCalendar();
		}
	}

	One.onLoad(() => e.init());
})();

// Function to change the calendar view based on month and year selection
function changeMonthYear() {
	const month = document.getElementById("monthSelect").value;
	const year = document.getElementById("yearSelect").value;

	if (window.calendar) {
		window.calendar.gotoDate(`${year}-${month}-01`);
	}

	// Optionally, you can call showReport() if needed
	showReport();
}
